📝 日志文件: logs/experiment_20251203_175549.log
⏰ 开始时间: 2025-12-03 17:55:49
============================================================
🚀 实验运行器初始化完成
🧪 开始HALT-CoT增强实验
============================================================
✅ 已加载 10 条测试数据
🤖 加载模型: Qwen/Qwen2.5-7B-Instruct
Loading checkpoint shards:   0%|          | 0/4 [00:00<?, ?it/s]Loading checkpoint shards:  25%|##5       | 1/4 [00:00<00:02,  1.26it/s]Loading checkpoint shards:  50%|#####     | 2/4 [00:01<00:01,  1.30it/s]Loading checkpoint shards:  75%|#######5  | 3/4 [00:02<00:00,  1.30it/s]Loading checkpoint shards: 100%|##########| 4/4 [00:03<00:00,  1.36it/s]Loading checkpoint shards: 100%|##########| 4/4 [00:03<00:00,  1.33it/s]
✅ 模型已加载到: cuda:0
[SmartHaltDecisionMaker] 初始化配置:
  - 检测模式: 句子边界检测
  - use_consistency: True
  - use_entropy: True
  - consistency_k: 3
  - entropy_threshold: 0.6
  - entropy_consecutive_steps: 2
  - min_tokens_before_check: 100
  - cooldown_tokens: 40
🔧 实验管理器初始化: 智能检测=False, 句子边界检测=True

📝 样本 1: How many vertical asymptotes does the graph of $y=\frac{2}{x^2+x-6}$ have?...
   🔎 [句子检查点@calculation] Tokens: 140
      📄 上下文: ...he denominator equal to zero and solve for $x$.⏎$(x + 3)(x - 2) = 0$⏎⏎Step 3: Solve the equation.⏎$x
      🧪 探针: '2' | 熵: 0.7857
   ❌ 处理失败: 'EntropyHaltDetector' object has no attribute 'add_entropy'
Traceback (most recent call last):
  File "/root/autodl-tmp/halt_cot_project/src/experiment_manager.py", line 92, in run_single_sample
    result_data = self._generation_loop(
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/autodl-tmp/halt_cot_project/src/experiment_manager.py", line 210, in _generation_loop
    decision = self.halt_decision_maker.make_decision(probe_result, current_stage)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/autodl-tmp/halt_cot_project/src/early_stopping/decision_maker.py", line 191, in make_decision
    return self._unified_decision(probe_result)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/autodl-tmp/halt_cot_project/src/early_stopping/decision_maker.py", line 315, in _unified_decision
    self.entropy_detector.add_entropy(probe_result.entropy)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'EntropyHaltDetector' object has no attribute 'add_entropy'

📝 样本 2: Kite $ABCD$ (a quadrilateral with two pairs of adjacent equal sides) has coordin...

❌ 实验被用户中断
============================================================
⏰ 结束时间: 2025-12-03 17:55:59
